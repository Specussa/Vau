import{L as b,_ as g}from"./Logo-C1S75IEn.js";import{d as h,Z as c,b as C,c as i,a as t,U as n,aA as y,I as f,T as u,R as p,ai as V,o as d}from"./@vue-DwLU1mub.js";import{_ as x}from"./index-BPKgf-vr.js";import"./vue-router-BeDFSrMD.js";import"./vue-i18n-DcgfqTZL.js";import"./@intlify-CQT3u4ju.js";import"./@element-plus-m0wAbjkV.js";import"./vue-tel-input-BsVA42h1.js";import"./element-plus-D6RlUQ7b.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-Q_cOxmjC.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Ct2Knyoi.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const k={class:"auth"},z={class:"auth__container container"},B={class:"auth__block"},I={class:"auth__flex"},$={class:"auth__left"},L={class:"auth__logo"},U={class:"auth__right"},w={class:"auth__top"},A=["disabled"],R={class:"auth__form"},S={class:"form__flex"},Z={class:"form__group"},D={key:0,class:"error text_very"},T={class:"form__group"},E={key:0,class:"error text_very"},F={class:"form__group"},P={key:0,class:"error text_very"},j={class:"form__buttons"},q=["disabled","loading"],G={key:0},H={key:1},J=h({__name:"Reg",setup(K){const s=c({firstName:"",lastName:"",referralCode:""}),a=c({firstName:"",lastName:"",referralCode:""}),r=C(!1),m=()=>{let o=!0;return a.firstName="",a.lastName="",a.referralCode="",s.firstName.trim()?s.firstName.trim().length<2?(a.firstName="Имя должно содержать минимум 2 символа",o=!1):/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(s.firstName.trim())||(a.firstName="Имя может содержать только буквы, пробелы и дефисы",o=!1):(a.firstName="Имя обязательно для заполнения",o=!1),s.lastName.trim()&&s.lastName.trim().length<2?(a.lastName="Фамилия должна содержать минимум 2 символа",o=!1):s.lastName.trim()&&!/^[a-zA-Zа-яА-ЯёЁ\s\-]+$/.test(s.lastName.trim())&&(a.lastName="Фамилия может содержать только буквы, пробелы и дефисы",o=!1),s.referralCode.trim()&&s.referralCode.trim().length<3&&(a.referralCode="Реферальный код должен содержать минимум 3 символа",o=!1),o},v=async()=>{if(m()){r.value=!0;try{console.log("Данные формы:",{firstName:s.firstName.trim(),lastName:s.lastName.trim(),referralCode:s.referralCode.trim()||null}),await new Promise(o=>setTimeout(o,1e3)),alert("Регистрация успешно завершена!"),s.firstName="",s.lastName="",s.referralCode=""}catch(o){console.error("Ошибка при регистрации:",o),alert("Произошла ошибка при регистрации. Попробуйте еще раз.")}finally{r.value=!1}}},N=()=>{console.log("Переход на страницу входа")};return(o,e)=>{const _=V("el-input");return d(),i("section",k,[t("div",z,[t("div",B,[t("div",I,[t("div",$,[t("div",L,[n(b)]),e[6]||(e[6]=y('<div class="auth__image" data-v-cd4e95d6><img src="'+g+'" alt="cover" data-v-cd4e95d6></div><div class="auth__info" data-v-cd4e95d6><h3 class="auth__heading" data-v-cd4e95d6>Стань известным и популярным в мире музыки</h3><p class="auth__description" data-v-cd4e95d6>Выложи трек на все площадки и продавай свою музыку во всем мире</p></div>',2))]),t("div",U,[t("div",w,[e[8]||(e[8]=t("p",{class:"auth__acc text_small"},"У вас уже есть аккаунт?",-1)),t("button",{class:"auth__login button__second button",onClick:N,disabled:r.value},e[7]||(e[7]=[t("span",null,"Войти",-1)]),8,A)]),t("div",R,[e[13]||(e[13]=t("h1",{class:"form__head title_two"},"Регистрация",-1)),t("div",S,[t("div",Z,[e[9]||(e[9]=t("label",{for:"firstName",class:"form__label button"},"Ваше имя*",-1)),n(_,{id:"firstName",modelValue:s.firstName,"onUpdate:modelValue":e[0]||(e[0]=l=>s.firstName=l),type:"text",class:f({error:a.firstName}),placeholder:"Введите ваше имя",disabled:r.value,onBlur:m,onInput:e[1]||(e[1]=l=>a.firstName=""),size:"large"},null,8,["modelValue","class","disabled"]),a.firstName?(d(),i("div",D,u(a.firstName),1)):p("",!0)]),t("div",T,[e[10]||(e[10]=t("label",{for:"lastName",class:"form__label button"},"Ваша фамилия",-1)),n(_,{id:"lastName",modelValue:s.lastName,"onUpdate:modelValue":e[2]||(e[2]=l=>s.lastName=l),type:"text",class:f({error:a.lastName}),placeholder:"Введите вашу фамилию",disabled:r.value,onBlur:m,onInput:e[3]||(e[3]=l=>a.lastName=""),size:"large"},null,8,["modelValue","class","disabled"]),a.lastName?(d(),i("div",E,u(a.lastName),1)):p("",!0)]),t("div",F,[e[11]||(e[11]=t("label",{for:"referralCode",class:"form__label button"},"Реферальный код",-1)),e[12]||(e[12]=t("div",{class:"form__hint text_small"}," Если у вас нет кода или почты партнёра, оставьте это поле пустым. ",-1)),n(_,{id:"referralCode",modelValue:s.referralCode,"onUpdate:modelValue":e[4]||(e[4]=l=>s.referralCode=l),type:"text",class:f({error:a.referralCode}),placeholder:"Введите код",disabled:r.value,onBlur:m,onInput:e[5]||(e[5]=l=>a.referralCode=""),size:"large"},null,8,["modelValue","class","disabled"]),a.referralCode?(d(),i("div",P,u(a.referralCode),1)):p("",!0)])]),t("div",j,[t("button",{class:"form__send button__primary",onClick:v,disabled:r.value,loading:r.value},[r.value?(d(),i("span",H,"Загрузка...")):(d(),i("span",G,"Продолжить"))],8,q)])]),e[14]||(e[14]=t("div",{class:"form__step"},[t("span",{class:"active"}),t("span"),t("span")],-1))])])])])])}}}),fe=x(J,[["__scopeId","data-v-cd4e95d6"]]);export{fe as default};
